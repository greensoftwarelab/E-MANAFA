

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>manafa package &mdash; e-manafa 0.3.5 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="manafa.parsing package" href="manafa.parsing.html" />
    <link rel="prev" title="manafa" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> e-manafa
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">E-MANAFA: Energy Monitor and ANAlyzer For Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#setup">SETUP</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#usage">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#supported-devices">Supported devices:</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#todo">TODO</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">manafa</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">manafa package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.html">manafa.parsing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.resources.html">manafa.resources package</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.services.html">manafa.services package</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.tests.html">manafa.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.utils.html">manafa.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-manafa.emanafa">manafa.emanafa module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-manafa.hunter_emanafa">manafa.hunter_emanafa module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-manafa.main">manafa.main module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-manafa">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">e-manafa</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">manafa</a> &raquo;</li>
        
      <li>manafa package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/manafa.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="manafa-package">
<h1>manafa package<a class="headerlink" href="#manafa-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="manafa.parsing.html">manafa.parsing package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manafa.parsing.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="manafa.parsing.batteryStats.html">manafa.parsing.batteryStats package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.batteryStats.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.batteryStats.html#module-manafa.parsing.batteryStats.BatteryStatsConstants">manafa.parsing.batteryStats.BatteryStatsConstants module</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.batteryStats.html#module-manafa.parsing.batteryStats.BatteryStatsParser">manafa.parsing.batteryStats.BatteryStatsParser module</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.batteryStats.html#module-manafa.parsing.batteryStats">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="manafa.parsing.hunter.html">manafa.parsing.hunter package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.hunter.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.hunter.html#module-manafa.parsing.hunter.AppConsumptionStats">manafa.parsing.hunter.AppConsumptionStats module</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.hunter.html#module-manafa.parsing.hunter.HunterParser">manafa.parsing.hunter.HunterParser module</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.hunter.html#module-manafa.parsing.hunter">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="manafa.parsing.perfetto.html">manafa.parsing.perfetto package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.perfetto.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.perfetto.html#module-manafa.parsing.perfetto.perfettoParser">manafa.parsing.perfetto.perfettoParser module</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.perfetto.html#module-manafa.parsing.perfetto">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="manafa.parsing.powerProfile.html">manafa.parsing.powerProfile package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.powerProfile.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.powerProfile.html#module-manafa.parsing.powerProfile.PowerProfile">manafa.parsing.powerProfile.PowerProfile module</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.parsing.powerProfile.html#module-manafa.parsing.powerProfile">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="manafa.parsing.html#module-manafa.parsing">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manafa.resources.html">manafa.resources package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manafa.resources.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="manafa.resources.profiles.html">manafa.resources.profiles package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="manafa.resources.profiles.html#module-manafa.resources.profiles">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="manafa.resources.html#module-manafa.resources">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manafa.services.html">manafa.services package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manafa.services.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="manafa.services.html#module-manafa.services.LogService">manafa.services.LogService module</a></li>
<li class="toctree-l2"><a class="reference internal" href="manafa.services.html#module-manafa.services.batteryStatsService">manafa.services.batteryStatsService module</a></li>
<li class="toctree-l2"><a class="reference internal" href="manafa.services.html#module-manafa.services.perfettoService">manafa.services.perfettoService module</a></li>
<li class="toctree-l2"><a class="reference internal" href="manafa.services.html#module-manafa.services.service">manafa.services.service module</a></li>
<li class="toctree-l2"><a class="reference internal" href="manafa.services.html#module-manafa.services">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manafa.tests.html">manafa.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manafa.tests.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="manafa.tests.batterystats.html">manafa.tests.batterystats package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="manafa.tests.batterystats.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.tests.batterystats.html#module-manafa.tests.batterystats.test_batteryStatsService">manafa.tests.batterystats.test_batteryStatsService module</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.tests.batterystats.html#module-manafa.tests.batterystats">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="manafa.tests.perfetto.html">manafa.tests.perfetto package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="manafa.tests.perfetto.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.tests.perfetto.html#module-manafa.tests.perfetto.test_perfettoService">manafa.tests.perfetto.test_perfettoService module</a></li>
<li class="toctree-l4"><a class="reference internal" href="manafa.tests.perfetto.html#module-manafa.tests.perfetto">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="manafa.tests.html#module-manafa.tests">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manafa.utils.html">manafa.utils package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manafa.utils.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="manafa.utils.html#module-manafa.utils.Logger">manafa.utils.Logger module</a></li>
<li class="toctree-l2"><a class="reference internal" href="manafa.utils.html#module-manafa.utils.Utils">manafa.utils.Utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="manafa.utils.html#module-manafa.utils.dateUtils">manafa.utils.dateUtils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="manafa.utils.html#module-manafa.utils">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-manafa.emanafa">
<span id="manafa-emanafa-module"></span><h2>manafa.emanafa module<a class="headerlink" href="#module-manafa.emanafa" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">manafa.emanafa.</span></span><span class="sig-name descname"><span class="pre">EManafa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">power_profile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resources_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/Users/ruirua/repos/emanafa/manafa/resources'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#EManafa"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.EManafa" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="manafa.services.html#manafa.services.service.Service" title="manafa.services.service.Service"><code class="xref py py-class docutils literal notranslate"><span class="pre">manafa.services.service.Service</span></code></a></p>
<p>Main class that abstracts all the modules and steps of the profiling procedure</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.resources_dir">
<span class="sig-name descname"><span class="pre">resources_dir</span></span><a class="headerlink" href="#manafa.emanafa.EManafa.resources_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>directory where aux resources are contained</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.power_profile">
<span class="sig-name descname"><span class="pre">power_profile</span></span><a class="headerlink" href="#manafa.emanafa.EManafa.power_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>the power profile to be used in the profiling sessions</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.boot_time">
<span class="sig-name descname"><span class="pre">boot_time</span></span><a class="headerlink" href="#manafa.emanafa.EManafa.boot_time" title="Permalink to this definition">¶</a></dt>
<dd><p>device’s last boot timestamp</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.batterystats">
<span class="sig-name descname"><span class="pre">batterystats</span></span><a class="headerlink" href="#manafa.emanafa.EManafa.batterystats" title="Permalink to this definition">¶</a></dt>
<dd><p>batterystats service</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.perfetto">
<span class="sig-name descname"><span class="pre">perfetto</span></span><a class="headerlink" href="#manafa.emanafa.EManafa.perfetto" title="Permalink to this definition">¶</a></dt>
<dd><p>perfetto service</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.timezone">
<span class="sig-name descname"><span class="pre">timezone</span></span><a class="headerlink" href="#manafa.emanafa.EManafa.timezone" title="Permalink to this definition">¶</a></dt>
<dd><p>device timezone</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.unplugged">
<span class="sig-name descname"><span class="pre">unplugged</span></span><a class="headerlink" href="#manafa.emanafa.EManafa.unplugged" title="Permalink to this definition">¶</a></dt>
<dd><p>if the device is not charging</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.bat_events">
<span class="sig-name descname"><span class="pre">bat_events</span></span><a class="headerlink" href="#manafa.emanafa.EManafa.bat_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Batterystats parser</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.pft_out_file">
<span class="sig-name descname"><span class="pre">pft_out_file</span></span><a class="headerlink" href="#manafa.emanafa.EManafa.pft_out_file" title="Permalink to this definition">¶</a></dt>
<dd><p>perfetto service output file</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.bts_out_file">
<span class="sig-name descname"><span class="pre">bts_out_file</span></span><a class="headerlink" href="#manafa.emanafa.EManafa.bts_out_file" title="Permalink to this definition">¶</a></dt>
<dd><p>batterystats output file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.calculate_cpu_energy">
<span class="sig-name descname"><span class="pre">calculate_cpu_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#EManafa.calculate_cpu_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.EManafa.calculate_cpu_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates cpu energy consumption of device between a timestamp interval
:param start_time: begin timestamp
:param end_time: end timestamp</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>cpu energy consumption</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>total</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.calculate_glob_and_component_consumption">
<span class="sig-name descname"><span class="pre">calculate_glob_and_component_consumption</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">last_event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_component_consumption</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#EManafa.calculate_glob_and_component_consumption"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.EManafa.calculate_glob_and_component_consumption" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the global and per-component consumption of a state that lasts delta_time.
:param last_event: the event containing the last state.
:param per_component_consumption: per_component consumption so far.
:param delta_time: duration of the state.
:param total: total consumption so far.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>total consumed (at device level).
per_component_consumption(dict): consumption per device component.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>total(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.calculate_non_cpu_energy">
<span class="sig-name descname"><span class="pre">calculate_non_cpu_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#EManafa.calculate_non_cpu_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.EManafa.calculate_non_cpu_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains energy consumption of device between a timestamp interval for every component except cpu. for cpu component,
it stores only the state recorded in battarystats.
:param start_time: begin timestamp.
:param end_time: end timestamp.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>system-level energy consumption without cpu energy consumption.
per_component: per-component energy consumption without cpu energy consumption.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>total</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.clean">
<span class="sig-name descname"><span class="pre">clean</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#EManafa.clean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.EManafa.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>calls clean methods from inner services to clean previous result files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.config">
<span class="sig-name descname"><span class="pre">config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#EManafa.config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.EManafa.config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.get_consumption_in_between">
<span class="sig-name descname"><span class="pre">get_consumption_in_between</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9223372036854775807</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#EManafa.get_consumption_in_between"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.EManafa.get_consumption_in_between" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves energy consumption and device events between a timestamp interval.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_time</strong> – begin timestamp.</p></li>
<li><p><strong>end_time</strong> – end timestamp.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>system-level energy consumption.
per_component(dict): per-component energy consumption.
metrics(dict): batterystats info containing events occurred during the interval. for each type of event, it
presents.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>total(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.infer_power_profile">
<span class="sig-name descname"><span class="pre">infer_power_profile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#EManafa.infer_power_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.EManafa.infer_power_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>picks the most appropriate power profile file. power profile files present in self.resources_dir contains a
device model id in the filename, which is determinated by ro.product.model property. if there is an adequate
file locally, it retrieves such filename. Otherwise, it extracts the profile from the device
using __extractPowerProfile.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the name of the  xml file.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>filename</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#EManafa.init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.EManafa.init" title="Permalink to this definition">¶</a></dt>
<dd><p>inits inner services and virtually unplugs device if it is fully charged</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.parse_results">
<span class="sig-name descname"><span class="pre">parse_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bts_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pf_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#EManafa.parse_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.EManafa.parse_results" title="Permalink to this definition">¶</a></dt>
<dd><p>parses results from output results files of perfetto and batterystats services.
:param bts_file: batterystats output file. if none, uses self.bts_out_file
:param pf_file: perfetto output file. if none, uses self.pft_out_file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.plug_back">
<span class="sig-name descname"><span class="pre">plug_back</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#EManafa.plug_back"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.EManafa.plug_back" title="Permalink to this definition">¶</a></dt>
<dd><p>plugs back the device</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#EManafa.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.EManafa.start" title="Permalink to this definition">¶</a></dt>
<dd><p>starts inner services.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#EManafa.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.EManafa.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>stops inner services.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>path to the resultant batterystats log file.
pf_out_file(str): path to the resultant perfetto log file.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bts_file(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.emanafa.EManafa.unplug_if_fully_charged">
<span class="sig-name descname"><span class="pre">unplug_if_fully_charged</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#EManafa.unplug_if_fully_charged"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.EManafa.unplug_if_fully_charged" title="Permalink to this definition">¶</a></dt>
<dd><p>virtually unplugs device charger, by calling dumpsys battery unplug.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="manafa.emanafa.get_last_boot_time">
<span class="sig-prename descclassname"><span class="pre">manafa.emanafa.</span></span><span class="sig-name descname"><span class="pre">get_last_boot_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bts_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/emanafa.html#get_last_boot_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.emanafa.get_last_boot_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves timestamp of device last boot, either from the batterystats output filename that contains that info or
the device itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bts_file</strong> (<em>str</em>) – filename or filename, whose filename contains the boot time of the respective session where it was</p></li>
<li><p><strong>recorded.</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>secs.ms.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>timestamp(float)</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-manafa.hunter_emanafa">
<span id="manafa-hunter-emanafa-module"></span><h2>manafa.hunter_emanafa module<a class="headerlink" href="#module-manafa.hunter_emanafa" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="manafa.hunter_emanafa.HunterEManafa">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">manafa.hunter_emanafa.</span></span><span class="sig-name descname"><span class="pre">HunterEManafa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">power_profile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resources_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/Users/ruirua/repos/emanafa/manafa/resources'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instrument_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_instrument_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/hunter_emanafa.html#HunterEManafa"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.hunter_emanafa.HunterEManafa" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#manafa.emanafa.EManafa" title="manafa.emanafa.EManafa"><code class="xref py py-class docutils literal notranslate"><span class="pre">manafa.emanafa.EManafa</span></code></a></p>
<p>Class that extends default framework behaviour, allowing to parse app traces from logcat using LogService
and estimate battery consumption of app components. it is designed to consider method traces, but it can be used to
parse and estimate consumption of source code at other granularity levels.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="manafa.hunter_emanafa.HunterEManafa.resources_dir">
<span class="sig-name descname"><span class="pre">resources_dir</span></span><a class="headerlink" href="#manafa.hunter_emanafa.HunterEManafa.resources_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>directory where aux resources are contained.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="manafa.hunter_emanafa.HunterEManafa.power_profile">
<span class="sig-name descname"><span class="pre">power_profile</span></span><a class="headerlink" href="#manafa.hunter_emanafa.HunterEManafa.power_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>the power profile to be used in the profiling sessions.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="manafa.hunter_emanafa.HunterEManafa.timezone">
<span class="sig-name descname"><span class="pre">timezone</span></span><a class="headerlink" href="#manafa.hunter_emanafa.HunterEManafa.timezone" title="Permalink to this definition">¶</a></dt>
<dd><p>device timezone.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="manafa.hunter_emanafa.HunterEManafa.unplugged">
<span class="sig-name descname"><span class="pre">unplugged</span></span><a class="headerlink" href="#manafa.hunter_emanafa.HunterEManafa.unplugged" title="Permalink to this definition">¶</a></dt>
<dd><p>if the device is not charging.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.hunter_emanafa.HunterEManafa.calculate_function_consumption">
<span class="sig-name descname"><span class="pre">calculate_function_consumption</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/hunter_emanafa.html#HunterEManafa.calculate_function_consumption"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.hunter_emanafa.HunterEManafa.calculate_function_consumption" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates consumption per function called during the profiling session.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.hunter_emanafa.HunterEManafa.clean">
<span class="sig-name descname"><span class="pre">clean</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/hunter_emanafa.html#HunterEManafa.clean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.hunter_emanafa.HunterEManafa.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>calls clean methods from inner services to clean previous result files</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.hunter_emanafa.HunterEManafa.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/hunter_emanafa.html#HunterEManafa.init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.hunter_emanafa.HunterEManafa.init" title="Permalink to this definition">¶</a></dt>
<dd><p>inits inner services.
Calls init from super class and also from the log service.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.hunter_emanafa.HunterEManafa.parse_results">
<span class="sig-name descname"><span class="pre">parse_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bts_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pf_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">htr_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/hunter_emanafa.html#HunterEManafa.parse_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.hunter_emanafa.HunterEManafa.parse_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the output files from a previous session, it parses and generates results from that session.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.hunter_emanafa.HunterEManafa.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/hunter_emanafa.html#HunterEManafa.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.hunter_emanafa.HunterEManafa.start" title="Permalink to this definition">¶</a></dt>
<dd><p>starts inner services.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="manafa.hunter_emanafa.HunterEManafa.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/hunter_emanafa.html#HunterEManafa.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.hunter_emanafa.HunterEManafa.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>stops inner services.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-manafa.main">
<span id="manafa-main-module"></span><h2>manafa.main module<a class="headerlink" href="#module-manafa.main" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="manafa.main.create_manafa">
<span class="sig-prename descclassname"><span class="pre">manafa.main.</span></span><span class="sig-name descname"><span class="pre">create_manafa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/main.html#create_manafa"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.main.create_manafa" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="manafa.main.has_connected_devices">
<span class="sig-prename descclassname"><span class="pre">manafa.main.</span></span><span class="sig-name descname"><span class="pre">has_connected_devices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/main.html#has_connected_devices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.main.has_connected_devices" title="Permalink to this definition">¶</a></dt>
<dd><p>checks if there are devices connected via adb</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="manafa.main.main">
<span class="sig-prename descclassname"><span class="pre">manafa.main.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/main.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.main.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="manafa.main.parse_results">
<span class="sig-prename descclassname"><span class="pre">manafa.main.</span></span><span class="sig-name descname"><span class="pre">parse_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manafa</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/main.html#parse_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.main.parse_results" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="manafa.main.print_profiled_stats">
<span class="sig-prename descclassname"><span class="pre">manafa.main.</span></span><span class="sig-name descname"><span class="pre">print_profiled_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">total_consumption</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_comp_consumption</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_timeline</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/manafa/main.html#print_profiled_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#manafa.main.print_profiled_stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-manafa">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-manafa" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="manafa.parsing.html" class="btn btn-neutral float-right" title="manafa.parsing package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="modules.html" class="btn btn-neutral float-left" title="manafa" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Rui Rua.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>